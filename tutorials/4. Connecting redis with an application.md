
### Sample CRUD Application Setup

<p>For convenience sake, a sample nodejs application demonstrating the Basic CRUD operations of redis database is available in <a href="https://github.com/snippet-java/nodejs-redis-api-example.git">this repository</a>. The following section deals with connecting the redis database previously exposed as a kubernetes service, to the nodejs application</p>

<h3>1. Create a new directory</h3>

```execute
mkdir redis
```

<h3>2. Clone the git repository</h3>

```execute
git clone https://github.com/snippet-java/nodejs-redis-api-example.git
```

<h3>3. Modify configuration file</h3>
<p>Connection to a redis database requires the <b>hostname</b>, <b>port</b> and <b>password</b>, which must be supplied to the redis connection client in the application. The connection code can be found inside <i>app.js</i> and looks as such</p>

```copycommand
var client = redis.createClient(port, hostname, {no_ready_check: true});
client.auth(password)
```
<p>Navigate to the directory which contains the application code</p>

```execute
cd nodejs-redis-api-example
```

<p>For this application, the configuration for connecting to Redis is accepted through the <i>sevices.json</i> file. Let's view the contents of the <i>services.json</i></p>

```execute
cat services.json
```
```output
{
        "redis" : {
                "hostname": "",
                "password": "",
                "port": ""
        }
}
```
<p>Replace the values for hostname, password and port in <i>services.json</i> file as shown.</p>

```execute
cat <<EOF> services.json
{
        "redis" : {
                "hostname": "127.0.0.1",
                "password": "$REDIS_PASSWORD",
                "port": "30001"
        }
}
```

<h3>4. Run the Application</h3>
<p>Install node package dependencies</p>

```execute
npm install
```

<p>Run the node application</p>

```execute
node app.js &
```
```output
Express server listening on port 3000
Connected to Redis
```
